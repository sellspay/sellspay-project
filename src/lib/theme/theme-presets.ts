import { ThemeTokens } from './theme-tokens';

export interface ThemePreset {
  id: string;
  name: string;
  description: string;
  tokens: ThemeTokens;
  /** Style hints for AI generation */
  backgroundStyle: string;
  cardStyle: string;
  typography: string;
  icon: 'moon' | 'zap' | 'sun' | 'leaf' | 'waves' | 'sparkles' | 'palette';
}

function makeTokens(partial: Partial<ThemeTokens>): ThemeTokens {
  return {
    background: '0 0% 0%',
    foreground: '210 10% 96%',
    primary: '217 91% 60%',
    primaryForeground: '0 0% 100%',
    secondary: '0 0% 7%',
    secondaryForeground: '210 10% 85%',
    accent: '0 0% 7%',
    accentForeground: '210 10% 96%',
    card: '0 0% 4%',
    cardForeground: '210 10% 96%',
    popover: '0 0% 4%',
    popoverForeground: '210 10% 96%',
    muted: '0 0% 8%',
    mutedForeground: '0 0% 45%',
    destructive: '0 72% 51%',
    destructiveForeground: '0 0% 98%',
    border: '0 0% 12%',
    input: '0 0% 12%',
    ring: '217 91% 60%',
    chart1: '217 91% 60%',
    chart2: '210 70% 50%',
    chart3: '187 92% 41%',
    chart4: '160 84% 39%',
    chart5: '38 92% 50%',
    gradientFrom: '217 60% 10%',
    gradientTo: '257 70% 18%',
    glassOpacity: '0.18',
    glassBlur: '12px',
    glassBorderOpacity: '0.2',
    shadowElevation: '0 10px 30px -10px',
    fontHeading: "'Inter', sans-serif",
    fontBody: "'Inter', sans-serif",
    fontWeightHeading: '600',
    letterSpacingHeading: '0.01em',
    radiusScale: '0.75rem',
    transitionSpeed: '200ms',
    sectionPadding: '80px',
    textureOverlay: 'noise',
    ctaStyle: 'default',
    ...partial,
  };
}

export const NO_THEME_PRESET: ThemePreset = {
  id: 'none',
  name: 'Current Theme',
  description: 'Your existing design',
  tokens: makeTokens({}),
  backgroundStyle: '',
  cardStyle: '',
  typography: '',
  icon: 'palette',
};

export const THEME_PRESETS: ThemePreset[] = [
  NO_THEME_PRESET,
  {
    id: 'midnight-luxury',
    name: 'Midnight Luxury',
    description: 'Dark mode with violet accents',
    tokens: makeTokens({
      primary: '263 70% 50%',
      primaryForeground: '0 0% 100%',
      accent: '263 58% 63%',
      accentForeground: '0 0% 100%',
      background: '240 17% 4%',
      foreground: '0 0% 100%',
      card: '240 17% 10%',
      cardForeground: '0 0% 100%',
      popover: '240 17% 10%',
      popoverForeground: '0 0% 100%',
      muted: '240 10% 14%',
      mutedForeground: '240 5% 70%',
      border: '240 10% 18%',
      ring: '263 70% 50%',
      chart1: '263 70% 50%',
      chart2: '217 91% 60%',
      chart3: '187 92% 41%',
      chart4: '160 84% 39%',
      chart5: '38 92% 50%',
    }),
    backgroundStyle: 'Glassmorphism overlays with backdrop-blur-xl, subtle gradient meshes, border border-border',
    cardStyle: 'bg-card/50 backdrop-blur-xl border border-border rounded-2xl',
    typography: 'Clean sans-serif, high contrast, elegant letter-spacing',
    icon: 'moon',
  },
  {
    id: 'neon-cyberpunk',
    name: 'Neon Cyberpunk',
    description: 'Bold neon on dark',
    tokens: makeTokens({
      primary: '150 100% 50%',
      primaryForeground: '0 0% 6%',
      accent: '300 100% 50%',
      accentForeground: '0 0% 100%',
      background: '0 0% 6%',
      foreground: '0 0% 100%',
      card: '0 0% 10%',
      cardForeground: '0 0% 100%',
      popover: '0 0% 10%',
      popoverForeground: '0 0% 100%',
      muted: '0 0% 16%',
      mutedForeground: '0 0% 53%',
      border: '0 0% 20%',
      ring: '150 100% 50%',
      chart1: '150 100% 50%',
      chart2: '300 100% 50%',
      chart3: '180 100% 50%',
      chart4: '60 100% 50%',
      chart5: '24 100% 50%',
    }),
    backgroundStyle: 'Gradient meshes with neon glow effects, animated gradients, grid patterns',
    cardStyle: 'bg-card border border-primary/30 rounded-lg',
    typography: 'Bold condensed fonts, uppercase headers',
    icon: 'zap',
  },
  {
    id: 'clean-minimal',
    name: 'Clean Minimal',
    description: 'Light, spacious, professional',
    tokens: makeTokens({
      primary: '0 0% 10%',
      primaryForeground: '0 0% 100%',
      secondary: '0 0% 96%',
      secondaryForeground: '0 0% 9%',
      accent: '217 91% 60%',
      accentForeground: '0 0% 100%',
      background: '0 0% 100%',
      foreground: '0 0% 9%',
      card: '0 0% 100%',
      cardForeground: '0 0% 9%',
      popover: '0 0% 100%',
      popoverForeground: '0 0% 9%',
      muted: '0 0% 96%',
      mutedForeground: '0 0% 45%',
      border: '0 0% 90%',
      input: '0 0% 90%',
      ring: '217 91% 60%',
    }),
    backgroundStyle: 'Pure white with subtle shadows, lots of whitespace',
    cardStyle: 'bg-card border border-border rounded-xl shadow-sm',
    typography: 'System fonts, generous line-height, minimal weight contrast',
    icon: 'sun',
  },
  {
    id: 'warm-earth',
    name: 'Warm Earth',
    description: 'Natural, organic tones',
    tokens: makeTokens({
      primary: '32 32% 41%',
      primaryForeground: '0 0% 100%',
      accent: '36 46% 60%',
      accentForeground: '25 38% 15%',
      background: '36 38% 96%',
      foreground: '25 38% 15%',
      card: '36 33% 93%',
      cardForeground: '25 38% 15%',
      popover: '36 33% 93%',
      popoverForeground: '25 38% 15%',
      muted: '36 28% 87%',
      mutedForeground: '25 20% 45%',
      border: '36 25% 82%',
      input: '36 25% 82%',
      ring: '32 32% 41%',
    }),
    backgroundStyle: 'Soft cream textures, paper-like backgrounds',
    cardStyle: 'bg-card border border-border rounded-xl',
    typography: 'Serif fonts for headings, warm brown tones',
    icon: 'leaf',
  },
  {
    id: 'ocean-breeze',
    name: 'Ocean Breeze',
    description: 'Cool blues and teals',
    tokens: makeTokens({
      primary: '199 89% 48%',
      primaryForeground: '0 0% 100%',
      accent: '187 92% 41%',
      accentForeground: '0 0% 100%',
      background: '204 100% 97%',
      foreground: '204 65% 24%',
      card: '0 0% 100%',
      cardForeground: '204 65% 24%',
      popover: '0 0% 100%',
      popoverForeground: '204 65% 24%',
      muted: '204 92% 93%',
      mutedForeground: '215 16% 47%',
      border: '199 92% 80%',
      input: '199 92% 80%',
      ring: '199 89% 48%',
    }),
    backgroundStyle: 'Gentle blue gradients, wave patterns, soft flowing shapes',
    cardStyle: 'bg-card/80 backdrop-blur-sm border border-border rounded-2xl',
    typography: 'Modern sans-serif, cool blue accents on text',
    icon: 'waves',
  },
  {
    id: 'retro-pop',
    name: 'Retro Pop',
    description: 'Vintage 80s aesthetic',
    tokens: makeTokens({
      primary: '24 95% 53%',
      primaryForeground: '0 0% 100%',
      accent: '330 81% 60%',
      accentForeground: '0 0% 100%',
      background: '48 100% 90%',
      foreground: '24 86% 11%',
      card: '0 0% 100%',
      cardForeground: '24 86% 11%',
      popover: '0 0% 100%',
      popoverForeground: '24 86% 11%',
      muted: '48 83% 72%',
      mutedForeground: '24 63% 29%',
      border: '45 93% 57%',
      input: '45 93% 57%',
      ring: '24 95% 53%',
    }),
    backgroundStyle: 'Geometric patterns, Memphis design elements, bold color blocks',
    cardStyle: 'bg-card border-2 border-foreground rounded-none',
    typography: 'Bold display fonts, playful uppercase, thick strokes',
    icon: 'sparkles',
  },
];

export function getThemePresetById(id: string): ThemePreset | undefined {
  return THEME_PRESETS.find(p => p.id === id);
}

export const DEFAULT_THEME = THEME_PRESETS[0];
